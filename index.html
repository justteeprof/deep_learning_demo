<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Human vs AI ‚Äì Chest X-ray Interpreter</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
    body {
        font-family: Arial, Helvetica, sans-serif;
        background: linear-gradient(135deg, #eef2f3, #d9e2ec);
        margin: 0;
        padding: 0;
        color: #333;
    }

    .container {
        max-width: 1000px;
        margin: auto;
        padding: 30px;
    }

    h1, h2 {
        text-align: center;
        color: #4a2c1d;
    }

    .card {
        background: white;
        border-radius: 14px;
        padding: 25px;
        margin-top: 25px;
        box-shadow: 0 12px 28px rgba(0,0,0,0.1);
    }

    .case {
        font-size: 18px;
        line-height: 1.7;
        margin-top: 15px;
    }

    .xray {
        text-align: center;
        margin: 20px 0;
    }

    .xray img {
        max-width: 100%;
        max-height: 400px;
        border-radius: 10px;
        border: 2px solid #ccc;
    }

    .options button {
        width: 100%;
        padding: 14px;
        margin-top: 10px;
        font-size: 16px;
        border-radius: 8px;
        border: none;
        background: #7a4a2e;
        color: white;
        cursor: pointer;
        transition: 0.3s;
    }

    .options button:hover {
        background: #5d3722;
    }

    .ai-box {
        background: #f5f7f9;
        border-left: 6px solid #7a4a2e;
        padding: 15px;
        margin-top: 20px;
        font-size: 17px;
    }

    .confidence {
        color: #b03030;
        font-weight: bold;
    }

    .hidden {
        display: none;
    }

    .footer {
        text-align: center;
        margin-top: 40px;
        font-size: 14px;
        color: #777;
    }
</style>
</head>

<body>
<div class="container">

<h1>ü´Å Human vs AI</h1>
<h2>Chest X-ray Interpretation Game</h2>

<div class="card" id="intro">
    <p class="case">
        You are the <strong>Human Radiologist</strong>.  
        The system is a <strong>Deep Learning Model</strong>.
        <br><br>
        Study the chest X-ray and clinical summary.
        Make your diagnosis before revealing the AI prediction.
    </p>
    <button onclick="startGame()">Start Game</button>
</div>

<div class="card hidden" id="caseCard">
    <h2 id="caseTitle"></h2>

    <div class="xray">
        <img id="xrayImage" src="" alt="Chest X-ray">
    </div>

    <div class="case" id="caseText"></div>

    <div class="options" id="options"></div>

    <div class="ai-box hidden" id="aiResult"></div>

    <button class="hidden" id="nextBtn" onclick="nextCase()">Next Case</button>
</div>

<div class="footer">
    Educational demo ‚Äì AI in Medical Imaging
</div>

</div>

<script>
const cases = [
    {
        title: "Case 1: Pleural Effusion",
        image: "images/pleural_effusion.png",
        text: `
        65-year-old male <br>
        Progressive breathlessness <br>
        Reduced chest expansion on the right
        `,
        options: [
            "Pneumonia",
            "Pleural effusion",
            "Lung tumour"
        ],
        ai: "Pleural effusion",
        confidence: "95%",
        explanation: "The AI detected homogeneous opacity and costophrenic angle blunting patterns."
    },
    {
        title: "Case 2: Pneumonia",
        image: "images/pneumonia.png",
        text: `
        40-year-old female <br>
        Fever and productive cough <br>
        Raised white cell count
        `,
        options: [
            "Pulmonary oedema",
            "Pneumonia",
            "Pleural effusion"
        ],
        ai: "Pneumonia",
        confidence: "88%",
        explanation: "Texture changes and air-space opacities strongly matched pneumonia patterns."
    },
    {
        title: "Case 3: Lung Tumour",
        image: "images/lung_tumour.png",
        text: `
        72-year-old male <br>
        Chronic cough and weight loss <br>
        Heavy smoking history
        `,
        options: [
            "Tuberculosis",
            "Pneumonia",
            "Lung tumour"
        ],
        ai: "Lung tumour",
        confidence: "91%",
        explanation: "Irregular margins and focal mass location influenced the prediction."
    }
];

let currentCase = 0;

function startGame() {
    document.getElementById("intro").classList.add("hidden");
    document.getElementById("caseCard").classList.remove("hidden");
    loadCase();
}

function loadCase() {
    const c = cases[currentCase];
    document.getElementById("caseTitle").innerText = c.title;
    document.getElementById("caseText").innerHTML = c.text;
    document.getElementById("xrayImage").src = c.image;

    const optionsDiv = document.getElementById("options");
    optionsDiv.innerHTML = "";

    c.options.forEach(option => {
        const btn = document.createElement("button");
        btn.innerText = option;
        btn.onclick = () => showAI(option);
        optionsDiv.appendChild(btn);
    });

    document.getElementById("aiResult").classList.add("hidden");
    document.getElementById("nextBtn").classList.add("hidden");
}

function showAI(userChoice) {
    const c = cases[currentCase];
    const aiBox = document.getElementById("aiResult");

    aiBox.innerHTML = `
        <strong>Your diagnosis:</strong> ${userChoice}<br><br>
        <strong>AI prediction:</strong> ${c.ai}<br>
        <span class="confidence">Confidence: ${c.confidence}</span><br><br>
        ${c.explanation}
        <br><br>
        <em>AI sees pixels, not patients.</em>
    `;

    aiBox.classList.remove("hidden");
    document.getElementById("nextBtn").classList.remove("hidden");
}

function nextCase() {
    currentCase++;
    if (currentCase < cases.length) {
        loadCase();
    } else {
        document.getElementById("caseCard").innerHTML = `
            <h2>üéØ Key Lessons</h2>
            <ul style="font-size:18px; line-height:1.8">
                <li>AI excels at visual pattern recognition</li>
                <li>Bias and data quality matter</li>
                <li>Confidence is not certainty</li>
                <li>Radiologists + AI = best outcomes</li>
            </ul>
            <h3 style="text-align:center">Game Completed</h3>
        `;
    }
}
</script>

</body>
</html>

